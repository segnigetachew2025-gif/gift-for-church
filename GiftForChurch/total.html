<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Total Collection - Gift for Church</title>
<style>
body { background: url('background.jpg') no-repeat center center fixed; background-size: cover; font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color:#fff; margin:0; padding:0; text-align:center; }
header { background: rgba(0,72,127,0.7); padding:20px; position:sticky; top:0; border-bottom:2px solid #00d4ff; }
header h1 { margin:0; font-size:2rem; text-shadow:2px 2px 6px rgba(0,0,0,0.4);}
.container { padding:30px; max-width:600px; margin:40px auto; background: rgba(0,0,50,0.6); border-radius:15px; box-shadow:0 4px 12px rgba(0,0,0,0.3); }
h2 { color:#00d4ff; margin-bottom:15px; }
.entry { display:flex; justify-content:space-between; background: rgba(0,0,100,0.5); margin:10px 0; padding:12px 15px; border-radius:10px; font-weight:bold; }
.total { font-size:1.5rem; color:#00ffff; margin-top:20px; font-weight:bold; }
button { padding:12px 20px; border:none; border-radius:12px; background:#00d4ff; color:white; cursor:pointer; margin-top:25px; transition:0.3s; }
button:hover { transform:translateY(-2px) scale(1.05); background:#00ffff; color:#000; }
</style>
</head>
<body>

<header><h1>Church Collection Details</h1></header>

<div class="container">
  <h2>Collected Tithes & Offerings</h2>
  <div id="entriesContainer"></div>
  <p class="total" id="totalAmount">Total: 0 ETB</p>
  <button onclick="window.location.href='dashboard.html'">‚Üê Back to Dashboard</button>
</div>

<script>
const user = JSON.parse(localStorage.getItem('currentUser'));
if(!user){ alert('Login required'); window.location.href='index.html'; }

const entriesContainer = document.getElementById('entriesContainer');
const totalAmount = document.getElementById('totalAmount');
const records = JSON.parse(localStorage.getItem('offerRecords')) || [];

let total = 0;
entriesContainer.innerHTML = '';
if(records.length===0){ entriesContainer.innerHTML='<p>No collections recorded yet.</p>'; }
else{
  records.forEach(r=>{
    const div=document.createElement('div');
    div.className='entry';
    div.innerHTML=`<span>${r.type}</span><span>${r.amount} ETB</span>`;
    entriesContainer.appendChild(div);
    total+=r.amount;
  });
}
totalAmount.textContent=`Total: ${total} ETB`;
</script>
<script src="lang.js"></script>
</body>
</html>
